<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Fundamental Movement Skills — MCQ Quiz (50Q)</title>
<style>
  :root{
    --bg:#0b1020; --card:#131a33; --ink:#eef2ff; --muted:#c7cffd; --accent:#8ba3ff; --ok:#2ecc71; --bad:#ff5c5c;
  }
  *{box-sizing:border-box}
  body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Helvetica,Arial,sans-serif;background:linear-gradient(180deg,#0b1020 0%,#0e1430 100%);color:var(--ink)}
  .wrap{max-width:980px;margin:0 auto;padding:24px}
  header{display:flex;gap:16px;align-items:center;justify-content:space-between;margin-bottom:16px}
  h1{font-size:clamp(22px,3vw,28px);margin:0}
  .card{background:var(--card);border:1px solid rgba(255,255,255,.07);border-radius:16px;box-shadow:0 8px 24px rgba(0,0,0,.25);overflow:hidden}
  .pad{padding:20px}
  .row{display:flex;gap:12px;flex-wrap:wrap;align-items:center}
  .muted{color:var(--muted);opacity:.9}
  .pill{background:rgba(255,255,255,.08);padding:6px 10px;border-radius:999px;font-size:12px;border:1px solid rgba(255,255,255,.1)}
  .progress{height:10px;background:rgba(255,255,255,.08);border-radius:999px;overflow:hidden}
  .bar{height:100%;width:0;background:linear-gradient(90deg,#7ea1ff,#b0c3ff);transition:width .4s ease}
  .qtext{font-size:20px;line-height:1.35;margin:8px 0 4px}
  .taxonomy{font-size:12px;opacity:.8;margin-bottom:12px}
  .opt{display:flex;gap:10px;align-items:flex-start;background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.08);padding:12px;border-radius:12px;cursor:pointer;transition:transform .03s ease, border-color .2s ease}
  .opt:hover{border-color:rgba(139,163,255,.8)}
  .opt input{margin-top:2px}
  .nav{display:flex;gap:10px;flex-wrap:wrap;justify-content:space-between;margin-top:14px}
  button{background:var(--accent);color:#0a1026;border:none;border-radius:12px;padding:12px 16px;font-weight:700;cursor:pointer}
  button.secondary{background:transparent;color:var(--ink);border:1px solid rgba(255,255,255,.2)}
  button:disabled{opacity:.5;cursor:not-allowed}
  .explain{margin-top:10px;font-size:14px;border-left:3px solid rgba(255,255,255,.18);padding-left:10px}
  .correct{color:var(--ok);font-weight:700}
  .incorrect{color:var(--bad);font-weight:700}
  .grid{display:grid;grid-template-columns:1fr;gap:14px}
  .scorebox{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px;margin-top:14px}
  .mini{background:rgba(255,255,255,.04);border:1px solid rgba(255,255,255,.1);border-radius:12px;padding:12px}
  .kbd{font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace;background:rgba(255,255,255,.08);padding:2px 6px;border-radius:6px;border:1px solid rgba(255,255,255,.13)}
  footer{opacity:.8;font-size:12px;margin-top:16px}
</style>
</head>
<body>
<div class="wrap">
  <header>
    <h1>Fundamental Movement Skills — MCQ Quiz</h1>
    <div class="row">
      <span class="pill" id="qCounter">Q 1 / 50</span>
      <span class="pill" id="modePill">Randomised</span>
    </div>
  </header>

  <div class="card">
    <div class="pad">
      <div class="progress" aria-label="progress"><div class="bar" id="bar"></div></div>
      <div id="stage" class="grid" style="margin-top:14px"></div>
      <div class="nav">
        <div class="row">
          <button class="secondary" id="btnPrev" disabled>◀ Prev</button>
          <button class="secondary" id="btnClear">Clear</button>
        </div>
        <div class="row">
          <button id="btnCheck">Check Answer</button>
          <button id="btnNext">Next ▶</button>
          <button id="btnFinish" class="secondary">Finish Quiz</button>
        </div>
      </div>
    </div>
  </div>

  <div class="card" style="margin-top:16px">
    <div class="pad">
      <h3 style="margin:0 0 6px">Results</h3>
      <div class="scorebox">
        <div class="mini">Score: <strong id="score">0 / 50</strong></div>
        <div class="mini">Accuracy: <strong id="acc">0%</strong></div>
        <div class="mini">Answered: <strong id="answered">0</strong></div>
        <div class="mini">Time: <strong id="timer">00:00</strong></div>
      </div>
      <div id="summary" style="margin-top:12px" class="muted">Submit to see per-question feedback summary.</div>
    </div>
  </div>

  <footer class="muted">
    Tip: Use <span class="kbd">P</span> for Prev, <span class="kbd">N</span> for Next, and <span class="kbd">C</span> to Check.
  </footer>
</div>

<script>
/* ================ DATA ================ */
/* Taxonomy:
   T1 = remember/understand, T2 = apply/explain (no jargon-testing) */
const QUESTIONS = [
  /* --- UNDERHAND ROLL vs UNDERHAND THROW (Similarities & Differences) --- */
  {
    q: "Which similarity is shared by both the underhand roll and the underhand throw?",
    opts: [
      "Both start from a ready stance with a step forward and a follow-through",
      "Both release the ball from above shoulder level",
      "Both keep the knees locked to stabilise",
      "Both finish with the arm stopping abruptly at the hip"
    ],
    a: 0, t:"T1",
    e: "Both skills begin ready → step with non-dominant foot → follow through; the release height differs (ground vs knee–waist)."
  },
  {
    q: "What is the key difference in the release point between an underhand roll and an underhand throw?",
    opts: [
      "Roll: close to ground; Throw: between knee and waist",
      "Roll: shoulder height; Throw: above head",
      "Roll: knee height; Throw: ground contact",
      "Roll: chest height; Throw: shoulder height"
    ],
    a: 0, t:"T1",
    e: "Roll releases near the floor; the underhand throw releases roughly between knee and waist."
  },
  {
    q: "Compared to an underhand throw, the underhand roll typically requires:",
    opts: [
      "More knee bend and lowered body posture",
      "A higher release trajectory",
      "Less weight transfer",
      "No backswing"
    ],
    a: 0, t:"T1",
    e: "The roll uses a deeper knee bend/lower posture to send the ball along the ground."
  },
  {
    q: "Which statement about trajectory is most accurate?",
    opts: [
      "Roll travels along the ground; throw travels through the air",
      "Both are designed to bounce before reaching any target",
      "Throw should always curve sharply left",
      "Roll should always leave the ground to gain speed"
    ],
    a: 0, t:"T1",
    e: "By definition, the roll stays along the floor while the throw travels through the air."
  },
  {
    q: "In both roll and throw, why is stepping with the non-dominant foot useful?",
    opts: [
      "It improves balance and sets up forward weight transfer",
      "It locks the hips to prevent rotation",
      "It shortens the lever to reduce power",
      "It keeps the head fixed downward"
    ],
    a: 0, t:"T2",
    e: "The step stabilises the base and allows weight transfer toward the target for control and force."
  },

  /* --- THROW BEFORE CATCH RATIONALE --- */
  {
    q: "Why is throwing typically taught before catching?",
    opts: [
      "Quality throws create predictable, catchable inputs for practice",
      "Catching is less safe than throwing",
      "Throwing requires no feedback while catching does",
      "Catching always needs advanced equipment first"
    ],
    a: 0, t:"T2",
    e: "A safe, accurate send lets partners practise receiving with consistent inputs."
  },

  /* --- BSER (Body, Space, Effort, Relationship) --- */
  {
    q: "In BSER, which best illustrates the ‘Effort’ concept during a dribble with hands?",
    opts: [
      "Adjusting force and tempo so the ball returns to hand height",
      "Choosing a zigzag pathway to avoid defenders",
      "Keeping eyes up to scan teammates",
      "Positioning a partner as a passive defender"
    ],
    a: 0, t:"T2",
    e: "Effort addresses ‘how’ the movement feels: force, time, and flow (e.g., push not slap)."
  },
  {
    q: "Which is a ‘Space’ decision for an underhand roll to a partner?",
    opts: [
      "Selecting direction and distance to the target zone",
      "Cushioning the ball on receive",
      "Timing the release to a verbal cue",
      "Firming the wrist at contact"
    ],
    a: 0, t:"T2",
    e: "Space covers where movement occurs: distance, direction, levels, and pathways."
  },
  {
    q: "Which is a ‘Relationship’ element in a simple pass-and-move task?",
    opts: [
      "Eye contact and timing with a partner",
      "Bending knees to lower centre of mass",
      "Switching from straight to curved pathway",
      "Increasing bounce height deliberately"
    ],
    a: 0, t:"T2",
    e: "Relationship focuses on interaction (people, timing, roles, goals)."
  },
  {
    q: "Which is most clearly ‘Body’ in BSER during an overhand throw?",
    opts: [
      "Coordinating hip–shoulder rotation and arm path",
      "Choosing a high target level",
      "Accelerating the arm swing",
      "Passing to a teammate moving right to left"
    ],
    a: 0, t:"T2",
    e: "‘Body’ is what the body does: positions, parts, shapes, weight transfer, coordination."
  },

  /* --- NEWTON’S LAWS (APPLIED) --- */
  {
    q: "A vertical jump mainly relies on which interaction to leave the ground?",
    opts: [
      "Ground reaction force (action–reaction)",
      "Air resistance reduction",
      "Less gravity near the floor",
      "Momentum without any force"
    ],
    a: 0, t:"T1",
    e: "Pushing down on the ground yields an equal and opposite reaction upward."
  },
  {
    q: "Increasing force on a light ball during a throw affects acceleration how?",
    opts: [
      "Acceleration increases (F = m·a)",
      "Acceleration decreases regardless of force",
      "Acceleration is unchanged for a given mass",
      "Acceleration depends only on follow-through"
    ],
    a: 0, t:"T1",
    e: "Greater net force on the same mass leads to greater acceleration."
  },
  {
    q: "When trapping a moving ball with a stick, gently ‘giving’ on receive mainly helps to:",
    opts: [
      "Overcome the ball’s inertia safely",
      "Increase mass to slow the ball",
      "Reduce friction to zero",
      "Cancel gravity temporarily"
    ],
    a: 0, t:"T2",
    e: "‘Giving’ applies force over time to change the ball’s motion without a harsh rebound."
  },
  {
    q: "Which example best shows Newton’s First Law in FMS?",
    opts: [
      "A ball keeps rolling until friction or a stop acts on it",
      "The ground pushes you up as you push it down",
      "A heavier ball needs more force to speed up",
      "Leaning forward increases stride length"
    ],
    a: 0, t:"T1",
    e: "Inertia: motion continues unless acted upon by an external force."
  },

  /* --- GENERATING FORCE & POWER --- */
  {
    q: "Rotational (angular) force in striking mainly comes from:",
    opts: [
      "Hip–shoulder rotation creating torque",
      "Keeping hips square and still",
      "Shortening the lever early",
      "Eliminating any follow-through"
    ],
    a: 0, t:"T2",
    e: "Torque from rotation increases distal speed for striking implements or the hand."
  },
  {
    q: "To maximise power (Force × Velocity), learners often need:",
    opts: [
      "A balance of force production and movement speed",
      "Only very slow movements",
      "Only maximal speed at any cost",
      "To avoid full-body sequencing"
    ],
    a: 0, t:"T2",
    e: "Peak power tends to occur at moderate velocities with good sequencing."
  },
  {
    q: "Which cue best increases linear force in a push pass with implement?",
    opts: [
      "‘Step to target and drive through the blade’",
      "‘Spin in place before contact’",
      "‘Keep feet parallel and static’",
      "‘Stop the stick at ball contact’"
    ],
    a: 0, t:"T2",
    e: "A directed step plus continuous drive improves straight-line force into the ball."
  },

  /* --- TRANSFER OF WEIGHT, LIMB DIRECTION, DISTANCE, FOLLOW-THROUGH --- */
  {
    q: "How does transferring weight forward affect a chest pass?",
    opts: [
      "Improves force and accuracy toward the target",
      "Reduces stability and always lowers accuracy",
      "Prevents trunk involvement",
      "Eliminates need for arm extension"
    ],
    a: 0, t:"T2",
    e: "Forward transfer aligns body momentum with the target pathway."
  },
  {
    q: "Directing the striking limb toward the target line mainly:",
    opts: [
      "Improves directional control",
      "Reduces contact time to zero",
      "Guarantees maximum distance regardless of force",
      "Removes the need to rotate hips"
    ],
    a: 0, t:"T2",
    e: "Clear limb direction refines accuracy; force and rotation still matter for distance."
  },
  {
    q: "For distance in an overhand throw, which matters most?",
    opts: [
      "Sequenced rotation (legs → hips → trunk → arm) and long lever",
      "Keeping the elbow fixed against the body",
      "Releasing with no follow-through",
      "Avoiding step to keep balance"
    ],
    a: 0, t:"T2",
    e: "Proximal-to-distal sequencing and lever length raise release speed for distance."
  },
  {
    q: "A purposeful follow-through mainly helps because it:",
    opts: [
      "Supports safe deceleration and consistent direction",
      "Determines ball mass after release",
      "Replaces the need for weight transfer",
      "Prevents any rotation from occurring"
    ],
    a: 0, t:"T2",
    e: "Think ‘finish to the target’: it tidies direction and allows controlled deceleration."
  },

  /* --- 3Es: Efficiency, Effectiveness, Consistency --- */
  {
    q: "‘Efficiency’ in FMS most closely means:",
    opts: [
      "Using minimal wasted effort with sound mechanics",
      "Achieving the goal regardless of technique",
      "Repeating outcomes many times in a row",
      "Moving as fast as possible always"
    ],
    a: 0, t:"T1",
    e: "Efficiency = good form with minimal unnecessary effort."
  },
  {
    q: "‘Effectiveness’ in FMS refers mainly to:",
    opts: [
      "Meeting the intended outcome (e.g., hit target)",
      "Always moving with the least effort",
      "Never changing technique",
      "Using the heaviest available ball"
    ],
    a: 0, t:"T1",
    e: "Outcome success: did the task goal happen?"
  },
  {
    q: "‘Consistency’ in performance is best described as:",
    opts: [
      "Repeating the desired outcome reliably over attempts",
      "Avoiding feedback to reduce confusion",
      "Changing cues every attempt",
      "Using maximal force each time"
    ],
    a: 0, t:"T1",
    e: "Consistency = repeatability of success."
  },

  /* --- INVARIANT POINTS (KEY MANIPULATIVE SKILLS) --- */
  { q:"Underhand roll: which is correct?", opts:[
      "Lower body by bending knees/waist; release on ground",
      "Release above head for extra power",
      "Keep arm bent throughout",
      "Avoid stepping to keep balance"
    ], a:0,t:"T1", e:"Roll uses a low posture and ground release for control."
  },
  { q:"Underhand throw: key release zone is:", opts:[
      "Between knee and waist level",
      "At chest height",
      "On the ground",
      "Above the head"
    ], a:0,t:"T1", e:"Throw releases roughly knee–waist height."
  },
  { q:"Two-handed underhand throw: a must-have cue is:", opts:[
      "Both arms straight during swing",
      "Elbows wide and bent",
      "Drop hands behind hips only",
      "Palms face each other after release"
    ], a:0,t:"T1", e:"Keep arms straight through the swing."
  },
  { q:"Overhand throw: which is essential?", opts:[
      "Arm moves forward past the head after reaching shoulder height",
      "Elbow stays low and tucked",
      "No hip/shoulder rotation",
      "Avoid stepping to keep still"
    ], a:0,t:"T1", e:"Raise to shoulder height or higher, rotate, and drive past head."
  },
  { q:"Chest pass: at release the hands should:", opts:[
      "Turn so palms face away; thumbs point down",
      "Stay under the ball with pinkies touching",
      "Cross wrists tightly",
      "Separate with elbows flared behind"
    ], a:0,t:"T1", e:"Classic finishing cue: palms away, thumbs down toward target."
  },
  { q:"Bounce pass: hand position before release:", opts:[
      "Thumbs together behind the ball; fingers on the back",
      "Thumbs down and apart",
      "Only fingertips on top of ball",
      "Palms facing outward"
    ], a:0,t:"T1", e:"Same pre-release support as chest pass."
  },
  { q:"Catching above the waist typically uses:", opts:[
      "‘W’ shape with thumbs near/together behind ball",
      "Inverted ‘V’ with pinkies near/together under ball",
      "Palms facing away",
      "Only one hand to absorb force"
    ], a:0,t:"T1", e:"Above-waist catch uses the ‘W’ hand shape."
  },
  { q:"Catching below the waist typically uses:", opts:[
      "Inverted ‘V’ with pinkies near/together under ball",
      "‘W’ with thumbs together behind ball",
      "Palms away with thumbs down",
      "Only elbows to trap"
    ], a:0,t:"T1", e:"Below-waist catch: pinkies together under the ball."
  },
  { q:"Dribble with hands: best cue is:", opts:[
      "Push the top of the ball with pads of fingers (not slap)",
      "Hit the side of the ball with palm",
      "Keep wrist rigid",
      "Eyes down on ball always"
    ], a:0,t:"T1", e:"Push (spring), use finger pads, control the bounce."
  },
  { q:"Dribble with feet should feel like a:", opts:[
      "Walking action with inside-of-foot pushes",
      "Continuous hop on one leg",
      "Series of toe-pokes only",
      "Static tap without moving"
    ], a:0,t:"T1", e:"‘Push, don’t poke’; legs pass each other as you walk with the ball."
  },
  { q:"Kick a ball: a reliable invariant is:", opts:[
      "Non-dominant foot steps/leaps to plant; contact with shoelaces",
      "Plant foot behind ball; contact with heel",
      "No trunk lean allowed",
      "Stop leg at contact"
    ], a:0,t:"T1", e:"Plant beside ball and contact with laces for a firm strike."
  },
  { q:"Push with implement (floorball/hockey): emphasis on:", opts:[
      "Blade stays next to ball; push through toward target",
      "Lifting stick high then chopping",
      "Tapping lightly with no follow-through",
      "Crossing feet while pushing"
    ], a:0,t:"T1", e:"Controlled push along ice/floor with the blade guiding the ball."
  },
  { q:"Trap/receive with implement: key receiving action:", opts:[
      "Meet the ball then ‘give’ to absorb force",
      "Strike through the ball",
      "Keep stick rigid against the floor",
      "Swing across the body at contact"
    ], a:0,t:"T1", e:"Cushion to reduce rebound and secure control."
  },
  { q:"Overhead volley (set): hand orientation at contact:", opts:[
      "Palms away; thumbs toward target; hands above forehead",
      "Palms facing in; elbows locked low",
      "Hands behind head; thumbs outward",
      "Fingers flat and rigid"
    ], a:0,t:"T1", e:"Hands shape the ball: palms away, thumbs to target, above forehead."
  },
  { q:"Forearm pass (dig): contact should be on:", opts:[
      "Lower half of the forearms with straight arms",
      "Hands alone with bent elbows",
      "Palms facing out",
      "Shoulders only"
    ], a:0,t:"T1", e:"Join hands, keep arms straight; platform on lower forearms."
  },
  { q:"Overhead strike (badminton): useful setup cue:", opts:[
      "Step back with dominant leg; long lever to shuttle",
      "Keep elbow bent and short",
      "Face square and avoid rotation",
      "Finish with racket below knee"
    ], a:0,t:"T1", e:"Create space with the rear step and reach to contact."
  },
  { q:"Sidearm strike with racket (tennis forehand): key body action:",
    opts:[
      "Rotate hips/shoulders until the body faces target at swing",
      "Keep hips still and swing only with wrist",
      "Lean back and avoid weight shift",
      "Stop swing at midline"
    ], a:0,t:"T1", e:"Rotation and weight shift drive racket speed and direction."
  },
  { q:"Two-handed sidearm strike with bat: contact should occur when:",
    opts:[
      "Arms and bat extend in line with front foot",
      "Back foot is airborne",
      "Elbows stay glued to ribs",
      "Bat is still behind shoulder"
    ], a:0,t:"T1", e:"Extend through contact with weight forward to front foot line."
  },

  /* --- COMMON ERRORS & CORRECTIONS (Simple, Non-tricky) --- */
  { q:"Common dribble-with-hands error to avoid:",
    opts:[
      "Slapping the ball instead of pushing",
      "Keeping eyes up",
      "Using finger pads",
      "Bending knees slightly"
    ], a:0,t:"T1", e:"Slapping reduces control; push like a spring."
  },
  { q:"A frequent catching error is:",
    opts:[
      "Not absorbing force by bringing ball toward the body",
      "Forming a ‘W’ above the waist",
      "Forming an inverted ‘V’ below the waist",
      "Tracking with eyes"
    ], a:0,t:"T1", e:"Without ‘give’, the ball rebounds or pops out."
  },
  { q:"In overhand throw, an error that limits distance is:",
    opts:[
      "Limited hip–shoulder rotation",
      "Sequenced rotation from legs to arm",
      "Stepping with non-dominant foot",
      "Long lever at release"
    ], a:0,t:"T1", e:"Stiff torso reduces torque and release speed."
  },

  /* --- SKILL ACQUISITION PHASES --- */
  { q:"After a learner can reproduce a correct pattern consistently, they are mainly in:",
    opts:[
      "Stabilisation of Skill",
      "Organisation/Recall",
      "Automation immediately",
      "Pre-practice"
    ], a:0,t:"T1", e:"Phase 2 focuses on error-correction and stabilising the pattern."
  },
  { q:"Automation is best described as:",
    opts:[
      "Executing with little conscious effort while adapting to demands",
      "The very first attempt at a new pattern",
      "Performing with variable outcomes",
      "Avoiding feedback"
    ], a:0,t:"T1", e:"Phase 3: pattern runs with low attentional load and adaptive control."
  },

  /* --- APPLICATION SCENARIOS (Taxonomy 2) --- */
  { q:"To help a student’s underhand roll travel straight, the most direct cue is:",
    opts:[
      "‘Point your toes, hips, and follow-through along the target line’",
      "‘Swing faster regardless of aim’",
      "‘Look down the whole time’",
      "‘Release from shoulder height’"
    ], a:0,t:"T2", e:"Align body and finish to target; release stays low for a roll."
  },
  { q:"You want a softer first touch when trapping with a stick. Which change helps most?",
    opts:[
      "Meet the ball then slightly withdraw the stick on contact",
      "Swing harder through the ball",
      "Raise elbows high at contact",
      "Turn away from the ball on impact"
    ], a:0,t:"T2", e:"‘Give’ increases time to absorb force, reducing rebound."
  },
  { q:"A student’s bounce pass dies short. What’s the best first fix?",
    opts:[
      "Increase step and drive hands through to the floor spot",
      "Raise release point to head height",
      "Reduce finger involvement",
      "Add backspin with one hand only"
    ], a:0,t:"T2", e:"Stronger step-through and directed push increases ball speed to target."
  },
  { q:"Learner leans back while kicking and balloons the ball. Best cue:",
    opts:[
      "‘Chest over the ball, strike with laces’",
      "‘Lean further back for height’",
      "‘Use heel contact’",
      "‘Stop the leg at contact’"
    ], a:0,t:"T2", e:"Forward lean + laces contact keeps trajectory lower and truer."
  },
  { q:"To make a dribble with feet more controlled under light pressure:",
    opts:[
      "Shorter touches with inside of foot and head up",
      "Longer touches far ahead",
      "Toe-pokes only",
      "Stand still while tapping"
    ], a:0,t:"T2", e:"Small, frequent inside pushes keep the ball within reach and vision."
  },
  { q:"For an overhand throw with more distance, which single cue is most impactful?",
    opts:[
      "‘Step, rotate hips/shoulders, then whip the arm long’",
      "‘Keep feet planted and use only arm’",
      "‘Release as late as possible behind head’",
      "‘Shorten arm to be quick’"
    ], a:0,t:"T2", e:"Sequencing adds speed to the distal segment for distance."
  },
  { q:"Forearm pass is flying too high; immediate fix?",
    opts:[
      "Angle the platform slightly to target and bend knees to absorb",
      "Join hands looser and swing upward",
      "Contact with palms",
      "Step away from target"
    ], a:0,t:"T2", e:"Platform angle controls trajectory; legs help absorb/aim."
  },
  { q:"A timid receiver stiffens arms when catching. Best coaching move?",
    opts:[
      "‘Soft hands — meet and bring the ball in’",
      "‘Lock elbows and squeeze hard’",
      "‘Look away at impact’",
      "‘Only use fingertips’"
    ], a:0,t:"T2", e:"Soft hands + give promotes secure catches."
  },

  /* --- MORE FORCE TYPES / CONTEXTS --- */
  { q:"Which situation leans most on frictional force for control?",
    opts:[
      "Stopping quickly after a sprint",
      "Jumping vertically",
      "Floating in water",
      "Serving in badminton"
    ], a:0,t:"T1", e:"Foot–ground friction allows braking."
  },
  { q:"Centripetal force is most evident in which movement?",
    opts:[
      "Turning or spinning while keeping balance",
      "Pushing a stationary object",
      "Vertical leap",
      "Static balance on two feet"
    ], a:0,t:"T1", e:"Circular motion requires inward-directed force."
  },
  { q:"Elastic energy contribution is clearest in:",
    opts:[
      "Quick stretch–shortening actions like bounding",
      "Standing still between reps",
      "Slow isometrics only",
      "Purely underwater movement"
    ], a:0,t:"T1", e:"Stored stretch energy released in rapid actions."
  },

  /* --- MINI COMPARISONS / QUICK ID --- */
  { q:"Which cue pairs correctly with the skill?",
    opts:[
      "Overhead volley — hands above forehead, palms away, thumbs to target",
      "Forearm pass — hands apart and swing high",
      "Underhand roll — release at chest height",
      "Chest pass — thumbs apart behind the ball"
    ], a:0,t:"T1", e:"Setter’s hands shape the ball above the forehead with palms away."
  },
  { q:"Which is the most helpful first step to improve consistency?",
    opts:[
      "Use the same stance, rhythm, and release each attempt",
      "Change equipment every rep",
      "Avoid any feedback",
      "Only try maximal force efforts"
    ], a:0,t:"T2", e:"Reproducible setup and rhythm drive repeatable outcomes."
  },
  { q:"In dribbling with hands, which combination is BEST?",
    opts:[
      "Eyes up when possible, knee flex, finger-pad push",
      "Eyes down always, stiff wrist, palm slap",
      "Straight legs, heavy slaps, head down",
      "Random heights, double bounces each time"
    ], a:0,t:"T2", e:"Classic control package for stable dribbling."
  },
  { q:"In a push pass with stick, which error wastes force?",
    opts:[
      "Stopping the blade at contact instead of driving through",
      "Stepping toward target",
      "Blade next to ball",
      "Follow-through to target line"
    ], a:0,t:"T2", e:"Force applied over a longer path/time transfers better to the ball."
  },
  { q:"Which catch choice is most appropriate for a low pass?",
    opts:[
      "Inverted ‘V’ with pinkies near/together underneath",
      "‘W’ above the ball with thumbs together",
      "Palms facing away",
      "Only elbows trap it"
    ], a:0,t:"T1", e:"Low ball → pinkies together underneath."
  },
  { q:"Which statement best matches ‘send before receive’ sequencing?",
    opts:[
      "It builds predictable inputs so receiving can be scaffolded safely",
      "It removes the need to practise catching",
      "It makes lessons longer without benefit",
      "It prevents peer feedback opportunities"
    ], a:0,t:"T2", e:"Reliable throws let partners actually practise catching mechanics."
  }
];

/* ================ QUIZ ENGINE ================ */
function shuffle(arr){
  for(let i=arr.length-1;i>0;i--){
    const j=Math.floor(Math.random()*(i+1)); [arr[i],arr[j]]=[arr[j],arr[i]];
  }
  return arr;
}

const state = {
  order: shuffle([...Array(QUESTIONS.length).keys()]),
  idx: 0,
  choice: Array(QUESTIONS.length).fill(null),
  checked: Array(QUESTIONS.length).fill(false),
  correct: Array(QUESTIONS.length).fill(false),
  start: Date.now()
};

function formatTime(ms){
  const s = Math.floor(ms/1000), m = Math.floor(s/60), r = s%60;
  return `${String(m).padStart(2,'0')}:${String(r).padStart(2,'0')}`;
}

function render(){
  const i = state.order[state.idx];
  const item = QUESTIONS[i];

  // Build randomized options per render but stable if already chosen/checked
  const base = item.opts.map((text,idx)=>({text,idx}));
  if(!item._shuffled){ item._shuffled = shuffle(base); }
  const shuffled = item._shuffled;

  const qCounter = document.getElementById('qCounter');
  qCounter.textContent = `Q ${state.idx+1} / ${QUESTIONS.length}`;

  const pct = ((state.idx)/QUESTIONS.length)*100;
  document.getElementById('bar').style.width = `${Math.max(2,pct)}%`;

  const stage = document.getElementById('stage');
  stage.innerHTML = `
    <div class="taxonomy">${item.t === 'T1' ? 'Taxonomy 1 • Remember/Understand' : 'Taxonomy 2 • Apply/Explain'}</div>
    <div class="qtext">${item.q}</div>
    <div class="grid" id="opts"></div>
    <div id="fx" class="explain muted" style="display:none"></div>
  `;

  const optsDiv = document.getElementById('opts');
  shuffled.forEach((o,k)=>{
    const checked = state.choice[i] === o.idx ? 'checked' : '';
    const node = document.createElement('label');
    node.className = 'opt';
    node.innerHTML = `
      <input type="radio" name="opt" value="${o.idx}" ${checked} />
      <div>${String.fromCharCode(65+k)}. ${o.text}</div>
    `;
    node.onclick = (ev)=>{
      const input = node.querySelector('input');
      input.checked = true;
      state.choice[i] = Number(input.value);
      // If already checked, keep explanation visible
      if(state.checked[i]) showExplain(i);
      updateHUD();
    };
    optsDiv.appendChild(node);
  });

  // Buttons
  document.getElementById('btnPrev').disabled = state.idx === 0;
  document.getElementById('btnNext').disabled = state.idx === (QUESTIONS.length-1);
  document.getElementById('btnCheck').disabled = state.choice[i] === null;
  document.getElementById('btnClear').onclick = ()=>{
    state.choice[i] = null; state.checked[i] = false; state.correct[i] = false;
    item._shuffled = item._shuffled || base; // keep order
    render(); updateHUD();
  };
  document.getElementById('btnCheck').onclick = ()=>{ gradeCurrent(); };
  document.getElementById('btnNext').onclick = ()=>{ state.idx = Math.min(QUESTIONS.length-1, state.idx+1); render();};
  document.getElementById('btnPrev').onclick = ()=>{ state.idx = Math.max(0, state.idx-1); render();};
  document.getElementById('btnFinish').onclick = finish;

  updateHUD();
}

function showExplain(i){
  const item = QUESTIONS[i];
  const fx = document.getElementById('fx');
  const wasCorrect = state.correct[i];
  fx.style.display = 'block';
  fx.innerHTML = `<span class="${wasCorrect?'correct':'incorrect'}">${wasCorrect?'Correct':'Incorrect'}.</span> ${item.e}`;
}

function gradeCurrent(){
  const i = state.order[state.idx];
  const pick = state.choice[i];
  if(pick===null) return;
  const ok = pick === QUESTIONS[i].a;
  state.checked[i] = true;
  state.correct[i] = ok;
  showExplain(i);
  updateHUD();
}

function updateHUD(){
  const answered = state.checked.filter(Boolean).length;
  const got = state.correct.filter(Boolean).length;
  document.getElementById('answered').textContent = answered;
  document.getElementById('score').textContent = `${got} / ${QUESTIONS.length}`;
  document.getElementById('acc').textContent = answered? Math.round((got/answered)*100)+'%':'0%';
}

function finish(){
  const now = Date.now();
  const total = QUESTIONS.length;
  const got = state.correct.filter(Boolean).length;
  const answered = state.checked.filter(Boolean).length;
  document.getElementById('timer').textContent = formatTime(now - state.start);
  const summary = document.getElementById('summary');

  const rows = state.order.map((qIx, n)=>{
    const item = QUESTIONS[qIx];
    const choice = state.choice[qIx];
    const ok = item.a;
    const status = (choice===null) ? 'Unanswered' : (choice===ok?'✅ Correct':'❌ Incorrect');
    const letters = item._shuffled ? item._shuffled.map((o)=>String.fromCharCode(65+item._shuffled.indexOf(o))) : ['A','B','C','D'];
    // Build A-D mapping after shuffle
    const correctLetter = item._shuffled ? String.fromCharCode(65 + item._shuffled.findIndex(o=>o.idx===item.a)) : String.fromCharCode(65+item.a);
    const pickedLetter = (choice===null) ? '-' :
      (item._shuffled ? String.fromCharCode(65 + item._shuffled.findIndex(o=>o.idx===choice)) : String.fromCharCode(65+choice));

    return `<li style="margin-bottom:10px">
      <div><strong>Q${n+1}.</strong> ${item.q}</div>
      <div class="muted">${status} · Your answer: <strong>${pickedLetter}</strong> · Correct: <strong>${correctLetter}</strong> · <em>${item.t}</em></div>
      <div class="explain">${item.e}</div>
    </li>`;
  }).join("");

  summary.innerHTML = `
    <div><strong>Final Score:</strong> ${got} / ${total} · <strong>Accuracy:</strong> ${answered? Math.round((got/answered)*100)+'%':'0%'} · <strong>Answered:</strong> ${answered}</div>
    <ol style="margin-top:10px;padding-left:18px">${rows}</ol>
  `;
}

// Keyboard shortcuts
document.addEventListener('keydown',(e)=>{
  if(e.key.toLowerCase()==='n') document.getElementById('btnNext').click();
  if(e.key.toLowerCase()==='p') document.getElementById('btnPrev').click();
  if(e.key.toLowerCase()==='c') document.getElementById('btnCheck').click();
});

// Timer tick
setInterval(()=>{
  document.getElementById('timer').textContent = formatTime(Date.now() - state.start);
}, 1000);

// Init
render();
</script>
</body>
</html>
